{"version":3,"sources":["webpack:///./src/App.jsx","webpack:///./src/CarList.jsx","webpack:///./~/react-addons-update/index.js","webpack:///./~/react/lib/update.js","webpack:///./src/CarFilter.jsx","webpack:///./src/CarAdd.jsx","webpack:///./src/ChatBox.jsx","webpack:///./src/Inbox.jsx","webpack:///./~/socket.io-client/lib/index.js","webpack:///./~/socket.io-client/lib/url.js","webpack:///./~/parseuri/index.js","webpack:///./~/debug/src/browser.js","webpack:///./~/debug/src/debug.js","webpack:///./~/ms/index.js","webpack:///./~/socket.io-parser/index.js","webpack:///./~/component-emitter/index.js","webpack:///./~/has-binary2/index.js","webpack:///./~/has-binary2/~/isarray/index.js","webpack:///./~/socket.io-parser/binary.js","webpack:///./~/socket.io-parser/~/isarray/index.js","webpack:///./~/socket.io-parser/is-buffer.js","webpack:///./~/socket.io-client/lib/manager.js","webpack:///./~/engine.io-client/index.js","webpack:///./~/engine.io-client/lib/index.js","webpack:///./~/engine.io-client/lib/socket.js","webpack:///./~/engine.io-client/lib/transports/index.js","webpack:///./~/engine.io-client/lib/xmlhttprequest.js","webpack:///./~/has-cors/index.js","webpack:///./~/engine.io-client/lib/transports/polling-xhr.js","webpack:///./~/engine.io-client/lib/transports/polling.js","webpack:///./~/engine.io-client/lib/transport.js","webpack:///./~/engine.io-parser/lib/browser.js","webpack:///./~/engine.io-parser/lib/keys.js","webpack:///./~/arraybuffer.slice/index.js","webpack:///./~/after/index.js","webpack:///./~/engine.io-parser/lib/utf8.js","webpack:///(webpack)/buildin/module.js","webpack:///./~/base64-arraybuffer/lib/base64-arraybuffer.js","webpack:///./~/blob/index.js","webpack:///./~/parseqs/index.js","webpack:///./~/component-inherit/index.js","webpack:///./~/yeast/index.js","webpack:///./~/engine.io-client/lib/transports/polling-jsonp.js","webpack:///./~/engine.io-client/lib/transports/websocket.js","webpack:///ws (ignored)","webpack:///./~/indexof/index.js","webpack:///./~/parsejson/index.js","webpack:///./~/socket.io-client/lib/socket.js","webpack:///./~/to-array/index.js","webpack:///./~/socket.io-client/lib/on.js","webpack:///./~/component-bind/index.js","webpack:///./~/backo2/index.js","webpack:///./src/CarEdit.jsx","webpack:///./src/ClientSide.jsx","webpack:///./src/ClientSide.css?f7c5","webpack:///./src/ClientSide.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/lib/addStyles.js","webpack:///./~/style-loader/lib/urls.js","webpack:///./src/CarListClientSide.jsx"],"names":["NoMatch","render","document","getElementById","CarRow","props","handleOnClick","console","log","carRemove","car","removeCar","_id","name","color","status","propTypes","PropTypes","object","isRequired","func","CarTable","carRows","cars","map","i","array","CarList","router","location","state","onAddress","emitAddress","addCar","bind","changeFilter","loadData","prevProps","oldQuery","query","newQuery","fetch","search","then","response","json","setState","catch","err","newFilter","Object","keys","filter","k","encodeURIComponent","join","context","push","newCar","method","headers","body","JSON","stringify","res","modifiedCars","$push","carRemoved","length","Component","module","exports","require","assign","keyOf","invariant","hasOwnProperty","shallowCopy","x","Array","isArray","concat","constructor","COMMAND_PUSH","COMMAND_UNSHIFT","$unshift","COMMAND_SPLICE","$splice","COMMAND_SET","$set","COMMAND_MERGE","$merge","COMMAND_APPLY","$apply","ALL_COMMANDS_LIST","ALL_COMMANDS_SET","forEach","command","invariantArrayCase","value","spec","process","env","NODE_ENV","undefined","specValue","update","call","nextValue","mergeObj","item","unshift","args","splice","apply","CarFilter","initFilter","submitHandler","submit","onChangeStatus","onChangeName","newProps","e","target","preventDefault","CarAdd","handleSubmit","form","forms","carAdd","priority","io","socket","MessageContent","messages","message","user","text","ChatBox","chatBoxShow","server_read","idMessage","time","Date","messagesInbox","handleChange","sendMessage","loadMessage","on","data","receiveMessage","event","getTime","emit","newMessage","addMessage","InboxRow","propsTypes","InboxTable","inboxRows","Inbox","url","parser","Manager","debug","lookup","cache","managers","uri","opts","parsed","source","id","path","sameNamespace","nsps","newConnection","forceNew","multiplex","protocol","connect","Socket","parseuri","loc","obj","global","host","charAt","test","port","ipv6","indexOf","href","re","parts","str","src","b","substring","replace","m","exec","authority","ipv6uri","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","window","type","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","toLowerCase","match","parseInt","RegExp","$1","formatters","j","v","namespace","humanize","diff","c","index","lastC","Function","prototype","arguments","namespaces","removeItem","r","DEBUG","enable","localStorage","createDebug","coerce","disable","enabled","names","skips","prevTime","selectColor","hash","charCodeAt","Math","abs","self","curr","ms","prev","format","formatter","val","logFn","init","split","len","substr","Error","stack","s","h","d","y","options","parse","isNaN","long","fmtLong","fmtShort","String","n","parseFloat","round","plural","floor","ceil","Emitter","hasBin","binary","isBuf","types","CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK","Encoder","Decoder","encode","callback","encodeAsBinary","encoding","encodeAsString","attachments","nsp","writeEncoding","bloblessData","deconstruction","deconstructPacket","pack","packet","buffers","removeBlobs","reconstructor","add","decodeString","BinaryReconstructor","reconPack","base64","takeBinaryData","p","Number","error","buf","next","tryParse","destroy","finishedReconstruction","binData","reconstructPacket","mixin","key","addEventListener","fn","_callbacks","once","off","removeListener","removeAllListeners","removeEventListener","callbacks","cb","slice","listeners","hasListeners","toString","withNativeBlob","Blob","withNativeFile","File","hasBinary","l","Buffer","isBuffer","ArrayBuffer","toJSON","arr","packetData","_deconstructPacket","placeholder","_placeholder","num","newData","_reconstructPacket","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","FileReader","onload","result","readAsArrayBuffer","eio","Backoff","has","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","min","max","jitter","timeout","readyState","connecting","lastPing","packetBuffer","_parser","encoder","decoder","autoConnect","open","emitAll","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","onopen","errorSub","cleanup","timer","setTimeout","close","clearTimeout","onping","onpong","ondata","ondecoded","onerror","onConnecting","encodedPackets","write","processPacketQueue","shift","subsLength","sub","disconnect","reset","onclose","reason","delay","duration","onreconnect","attempt","transports","parsejson","parseqs","hostname","secure","agent","decode","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","freeGlobal","extraHeaders","localAddress","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","Transport","createTransport","clone","EIO","transport","sid","requestTimeout","protocols","o","setTransport","onDrain","onPacket","onError","onClose","probe","failed","onTransportOpen","upgradeLosesBinary","supportsBinary","send","msg","upgrading","pause","flush","freezeTransport","onTransportClose","onupgrade","to","onOpen","onHandshake","setPing","code","filterUpgrades","onHeartbeat","ping","sendPacket","writable","compress","waitForUpgrade","cleanupAndClose","desc","filteredUpgrades","XMLHttpRequest","XHR","JSONP","websocket","polling","xhr","xd","xs","isSSL","xdomain","xscheme","hasCORS","XDomainRequest","Polling","inherit","Request","empty","request","doWrite","isBinary","req","sendXhr","doPoll","onData","pollXhr","async","create","setDisableHeaderCheck","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","onreadystatechange","contentType","getResponseHeader","responseType","requestsCount","requests","onSuccess","fromError","abort","attachEvent","unloadHandler","yeast","hasXHR2","doOpen","poll","onPause","total","decodePayload","doClose","packets","callbackfn","encodePayload","schema","b64","description","decodePacket","sliceBuffer","after","utf8","base64encoder","isAndroid","isPhantomJS","dontSendBlobs","pong","noop","packetslist","encodePacket","utf8encode","buffer","encodeArrayBuffer","encodeBlob","encodeBase64Object","encoded","strict","encodeBase64Packet","contentArray","Uint8Array","resultBuffer","byteLength","encodeBlobAsArrayBuffer","fr","blob","readAsDataURL","b64data","fromCharCode","typed","basic","btoa","utf8decode","decodeBase64Packet","tryDecode","asArray","rest","encodePayloadAsBlob","encodePayloadAsArrayBuffer","setLengthHeader","encodeOne","doneCallback","results","ary","each","done","eachWithIndex","el","decodePayloadAsBinary","chr","ret","totalLength","reduce","acc","resultArray","bufferIndex","isString","ab","view","lenStr","binaryIdentifier","size","lengthAry","bufferTail","tailArray","msgLength","arraybuffer","start","end","bytes","abv","ii","count","err_cb","bail","proxy","root","freeExports","freeModule","stringFromCharCode","ucs2decode","string","output","counter","extra","ucs2encode","checkScalarValue","codePoint","toUpperCase","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","tmp","define","nodeType","webpackPolyfill","deprecate","paths","children","chars","bufferLength","encoded1","encoded2","encoded3","encoded4","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","a","blobSupportsArrayBufferView","blobBuilderSupported","append","getBlob","mapArrayBufferViews","chunk","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobConstructor","qs","qry","pairs","pair","decodeURIComponent","alphabet","seed","decoded","now","JSONPPolling","rNewline","rEscapedNewline","___eio","script","parentNode","removeChild","iframe","createElement","insertAt","getElementsByTagName","insertBefore","head","appendChild","isUAgecko","area","iframeId","className","position","top","left","setAttribute","action","complete","initIframe","html","BrowserWebSocket","WebSocket","MozWebSocket","NodeWebSocket","WS","usingBrowserWebSocket","check","ws","supports","addEventListeners","onmessage","ev","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","toArray","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","subEvents","flags","pop","onpacket","onconnect","onevent","onack","ondisconnect","ack","sent","emitBuffered","list","factor","pow","rand","random","deviation","CarEdit","onChange","dismissAlert","successVisible","params","changes","modifiedCar","dismissTimer","success","maxWidth","ClientSide","useSourceMap","content","cssWithMappingToString","modules","mediaQuery","alreadyImportedModules","cssMapping","sourceMapping","toComment","sourceURLs","sources","sourceRoot","sourceMap","unescape","css","baseUrl","currentDir","pathname","fixedCss","fullMatch","origUrl","unquotedOrigUrl","trim","newUrl","Car","layOut","CarListClientSide","grid","changeLayout","layout","layoutState"],"mappings":"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A;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,kBAAiB,mBAAmB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAiB,sBAAsB;AACvC;;AAEA;AACA,oBAAmB,2BAA2B;;AAE9C;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,mBAAmB;AACnC;AACA;;AAEA;AACA;;AAEA,kBAAiB,2BAA2B;AAC5C;AACA;;AAEA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;;AAEA,kBAAiB,uBAAuB;AACxC;AACA;;AAEA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,eAAc;;AAEd,mDAAkD,sBAAsB;AACxE;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;;AAEA;;AAEA;AACA;AACA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","file":"app.bundle.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router, Route, Redirect, hashHistory } from 'react-router';\n\nimport CarList from './CarList.jsx';\nimport CarEdit from './CarEdit.jsx';\nimport ClientSide from './ClientSide.jsx';\nconst NoMatch = () => <h2>No match to the route</h2>;\n\nReactDOM.render(\n  (\n    <Router history={hashHistory} >\n      <Route path=\"/cars\" component={CarList} />\n      <Route path=\"/client\" component={ClientSide} />\n      <Route path=\"/cars/:id\" component={CarEdit} />\n      <Redirect from=\"/\" to=\"/cars\" />\n      <Route path=\"*\" component={NoMatch} />\n    </Router>\n  ),\n  document.getElementById('main')\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","import React from 'react';\nimport update from 'react-addons-update';\nimport { Link } from 'react-router';\n\nimport CarFilter from './CarFilter.jsx';\nimport CarAdd from './CarAdd.jsx';\nimport ChatBox from './ChatBox.jsx';\n\nconst CarRow = (props) => {\n  const handleOnClick = () => {\n    console.log('Delete car was called');\n    const carRemove = props.car;\n    props.removeCar(carRemove);\n  };\n  return (\n        <tr>\n          <td>\n            <Link to={`/cars/${props.car._id}`}>{props.car._id}</Link>\n          </td>\n          <td>{props.car.name}</td>\n          <td>{props.car.color}</td>\n          <td>{props.car.status}</td>\n          <td><button onClick={handleOnClick}>Delete</button></td>\n        </tr>\n    );\n};\n\nCarRow.propTypes = {\n  car: React.PropTypes.object.isRequired,\n  removeCar: React.PropTypes.func.isRequired,\n};\n\nfunction CarTable(props) {\n  let carRows = props.cars.map((car, i) =>\n      <CarRow key={i} car={car} removeCar = {props.removeCar} />);\n  return (\n    <table className=\"table table-striped table-bordered table-condensed\">\n      <thead>\n        <tr>\n          <th>Id</th>\n          <th>Name</th>\n          <th>Color</th>\n          <th>Status</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>{carRows}</tbody>\n    </table>\n  );\n}\n\nCarTable.propTypes = {\n  cars: React.PropTypes.array.isRequired,\n  removeCar: React.PropTypes.func.isRequired,\n};\n\nexport default class CarList extends React.Component {\n  static get contextTypes() {\n    return { router: React.PropTypes.object.isRequired };\n  }\n\n  static get propTypes() {\n    return { location: React.PropTypes.object.isRequired };\n  }\n\n  constructor() {\n    super();\n    this.state = { cars: [], onAddress: 'receiveClient' , emitAddress: 'toClient'};\n    this.addCar = this.addCar.bind(this);\n    this.changeFilter = this.changeFilter.bind(this);\n    this.removeCar = this.removeCar.bind(this);\n  }\n\n  componentDidMount() {\n    console.log('CarList: componentDidMount');\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldQuery = prevProps.location.query;\n    const newQuery = this.props.location.query;\n    // todo: comparing shallow objects -- better way?\n    // todo: when do we get called even when there's no change?\n    if (oldQuery.name === newQuery.name &&\n        oldQuery.status === newQuery.status) {\n      console.log('CarList: componentDidUpdate, no change in filter, not updating');\n      return;\n    }\n    console.log('CarList: componentDidUpdate, loading data with new filter');\n    this.loadData();\n  }\n\n  loadData() {\n    console.log('LoadData was call: ');\n    console.log(this.props.location);\n    fetch(`/api/cars/${this.props.location.search}`).then(response =>\n      response.json()\n    ).then(cars => {\n      this.setState({ cars });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  changeFilter(newFilter) {\n    const search = Object.keys(newFilter)\n      .filter(k => newFilter[k] !== '')\n      .map(k => `${encodeURIComponent(k)}=${encodeURIComponent(newFilter[k])}`)\n      .join('&');\n    console.log('Search: ', search);\n    console.log('This context router: ', this.context.router);\n    this.context.router.push({ search: `?${search}` });\n  }\n\n  addCar(newCar) {\n    console.log('Adding car:', newCar);\n    fetch('/api/cars', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(newCar),\n\n    }).then(res => res.json()).then(car => {\n      const modifiedCars = update(this.state.cars, { $push: [car] });\n      this.setState({ cars: modifiedCars });\n\n    }).catch(err => {\n      console.log('Error adding car:', err);\n    });\n  }\n\n  removeCar(carRemoved) {\n    console.log('Delete car was called');\n    fetch(`/api/cars/ ${carRemoved._id}`, {\n      method: 'DELETE',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(carRemoved),\n    }).then(res => res.json()).then(car => {\n      console.log('Delete success: ', car);\n      this.loadData();\n    }).catch(err => {\n      console.log('Error delete car:', err);\n    });\n  }\n\n  render() {\n    console.log('Rendering CarList, num items:', this.state.cars.length);\n    return (\n      <div>\n        <h1>Cars Store</h1>\n        <CarFilter submitHandler={this.changeFilter} initFilter={this.props.location.query} />\n        <CarTable cars={this.state.cars} removeCar={this.removeCar} />\n        <CarAdd addCar={this.addCar} />\n        <ChatBox onAddress = 'receiveClient' emitAddress = {this.state.emitAddress}\n                 user = 'Admin: '/>\n      </div>\n    );\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/CarList.jsx","module.exports = require('react/lib/update');\n\n\n// WEBPACK FOOTER //\n// ./~/react-addons-update/index.js","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule update\n */\n\n/* global hasOwnProperty:true */\n\n'use strict';\n\nvar assign = require('./Object.assign');\nvar keyOf = require('fbjs/lib/keyOf');\nvar invariant = require('fbjs/lib/invariant');\nvar hasOwnProperty = ({}).hasOwnProperty;\n\nfunction shallowCopy(x) {\n  if (Array.isArray(x)) {\n    return x.concat();\n  } else if (x && typeof x === 'object') {\n    return assign(new x.constructor(), x);\n  } else {\n    return x;\n  }\n}\n\nvar COMMAND_PUSH = keyOf({ $push: null });\nvar COMMAND_UNSHIFT = keyOf({ $unshift: null });\nvar COMMAND_SPLICE = keyOf({ $splice: null });\nvar COMMAND_SET = keyOf({ $set: null });\nvar COMMAND_MERGE = keyOf({ $merge: null });\nvar COMMAND_APPLY = keyOf({ $apply: null });\n\nvar ALL_COMMANDS_LIST = [COMMAND_PUSH, COMMAND_UNSHIFT, COMMAND_SPLICE, COMMAND_SET, COMMAND_MERGE, COMMAND_APPLY];\n\nvar ALL_COMMANDS_SET = {};\n\nALL_COMMANDS_LIST.forEach(function (command) {\n  ALL_COMMANDS_SET[command] = true;\n});\n\nfunction invariantArrayCase(value, spec, command) {\n  !Array.isArray(value) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): expected target of %s to be an array; got %s.', command, value) : invariant(false) : undefined;\n  var specValue = spec[command];\n  !Array.isArray(specValue) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): expected spec of %s to be an array; got %s. ' + 'Did you forget to wrap your parameter in an array?', command, specValue) : invariant(false) : undefined;\n}\n\nfunction update(value, spec) {\n  !(typeof spec === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): You provided a key path to update() that did not contain one ' + 'of %s. Did you forget to include {%s: ...}?', ALL_COMMANDS_LIST.join(', '), COMMAND_SET) : invariant(false) : undefined;\n\n  if (hasOwnProperty.call(spec, COMMAND_SET)) {\n    !(Object.keys(spec).length === 1) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Cannot have more than one key in an object with %s', COMMAND_SET) : invariant(false) : undefined;\n\n    return spec[COMMAND_SET];\n  }\n\n  var nextValue = shallowCopy(value);\n\n  if (hasOwnProperty.call(spec, COMMAND_MERGE)) {\n    var mergeObj = spec[COMMAND_MERGE];\n    !(mergeObj && typeof mergeObj === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): %s expects a spec of type \\'object\\'; got %s', COMMAND_MERGE, mergeObj) : invariant(false) : undefined;\n    !(nextValue && typeof nextValue === 'object') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): %s expects a target of type \\'object\\'; got %s', COMMAND_MERGE, nextValue) : invariant(false) : undefined;\n    assign(nextValue, spec[COMMAND_MERGE]);\n  }\n\n  if (hasOwnProperty.call(spec, COMMAND_PUSH)) {\n    invariantArrayCase(value, spec, COMMAND_PUSH);\n    spec[COMMAND_PUSH].forEach(function (item) {\n      nextValue.push(item);\n    });\n  }\n\n  if (hasOwnProperty.call(spec, COMMAND_UNSHIFT)) {\n    invariantArrayCase(value, spec, COMMAND_UNSHIFT);\n    spec[COMMAND_UNSHIFT].forEach(function (item) {\n      nextValue.unshift(item);\n    });\n  }\n\n  if (hasOwnProperty.call(spec, COMMAND_SPLICE)) {\n    !Array.isArray(value) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected %s target to be an array; got %s', COMMAND_SPLICE, value) : invariant(false) : undefined;\n    !Array.isArray(spec[COMMAND_SPLICE]) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): expected spec of %s to be an array of arrays; got %s. ' + 'Did you forget to wrap your parameters in an array?', COMMAND_SPLICE, spec[COMMAND_SPLICE]) : invariant(false) : undefined;\n    spec[COMMAND_SPLICE].forEach(function (args) {\n      !Array.isArray(args) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): expected spec of %s to be an array of arrays; got %s. ' + 'Did you forget to wrap your parameters in an array?', COMMAND_SPLICE, spec[COMMAND_SPLICE]) : invariant(false) : undefined;\n      nextValue.splice.apply(nextValue, args);\n    });\n  }\n\n  if (hasOwnProperty.call(spec, COMMAND_APPLY)) {\n    !(typeof spec[COMMAND_APPLY] === 'function') ? process.env.NODE_ENV !== 'production' ? invariant(false, 'update(): expected spec of %s to be a function; got %s.', COMMAND_APPLY, spec[COMMAND_APPLY]) : invariant(false) : undefined;\n    nextValue = spec[COMMAND_APPLY](nextValue);\n  }\n\n  for (var k in spec) {\n    if (!(ALL_COMMANDS_SET.hasOwnProperty(k) && ALL_COMMANDS_SET[k])) {\n      nextValue[k] = update(value[k], spec[k]);\n    }\n  }\n\n  return nextValue;\n}\n\nmodule.exports = update;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/update.js","import React from 'react';\nimport { Panel, Grid, Row, Col, FormGroup, ControlLabel, FormControl, Button, ButtonToolbar }\n  from 'react-bootstrap';\n\nexport default class CarFilter extends React.Component {\n  static get propTypes() {\n    return {\n      initFilter: React.PropTypes.object.isRequired,\n      submitHandler: React.PropTypes.func.isRequired,\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      status: this.props.initFilter.status,\n      name: this.props.initFilter.name,\n    };\n    this.submit = this.submit.bind(this);\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeName = this.onChangeName.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.initFilter.status === this.state.status\n        && newProps.initFilter.name === this.state.name) {\n      console.log('CarFilter: componentWillReceiveProps, no change');\n      return;\n    }\n    console.log('CarFilter: componentWillReceiveProps, new filter:', newProps.initFilter);\n    this.setState({ status: newProps.initFilter.status, name: newProps.initFilter.name });\n  }\n\n  onChangeStatus(e) {\n    this.setState({ status: e.target.value });\n  }\n\n  onChangeName(e) {\n    this.setState({ name: e.target.value });\n  }\n\n  submit(e) {\n    e.preventDefault();\n    const newFilter = {};\n    if (this.state.name) newFilter.name = this.state.name;\n    if (this.state.status) newFilter.status = this.state.status;\n    this.props.submitHandler(newFilter);\n  }\n\n  render() {\n    console.log('Rendering CarFilter, state=', this.state);\n    return (\n      <Panel collapsible defaultExpanded header=\"Filter\">\n        <Grid fluid>\n          <Row>\n            <Col xs={12} sm={6} md={4}>\n              <FormGroup>\n                <ControlLabel>Car Name</ControlLabel>\n                <FormControl type=\"text\" name=\"name\" value = {this.state.name}\n                  onChange={this.onChangeName} />\n              </FormGroup>\n            </Col>\n            <Col xs={12} sm={6} md={4}>\n              <FormGroup>\n                <ControlLabel>Status</ControlLabel>\n                <FormControl componentClass=\"select\" value={this.state.status}\n                  onChange={this.onChangeStatus}>\n                  <option value=\"\">(Any)</option>\n                  <option>Stocking</option>\n                  <option>Out of Stock</option>\n                </FormControl>\n              </FormGroup>\n            </Col>\n            <Col xs={12} sm={6} md={4}>\n              <FormGroup>\n                <ControlLabel>&nbsp;</ControlLabel>\n                <ButtonToolbar>\n                  <Button type=\"submit\" bsStyle=\"primary\" onClick={this.submit}>Search</Button>\n                </ButtonToolbar>\n              </FormGroup>\n            </Col>\n          </Row>\n        </Grid>\n      </Panel>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/CarFilter.jsx","import React from 'react';\nimport { Panel, FormGroup, ControlLabel, FormControl, Button } from 'react-bootstrap';\n\nexport default class CarAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(e) {\n    console.log('Got submit:', e);\n    e.preventDefault();\n    const form = document.forms.carAdd;\n    this.props.addCar({ color: form.color.value, name: form.name.value,\n                      status: 'Stocking', priority: 'P1' });\n    form.color.value = ''; form.name.value = '';\n  }\n\n  render() {\n    console.log('Rendering CarAdd');\n    return (\n      <Panel header=\"Add Car\">\n        <form name=\"carAdd\">\n          <FormGroup>\n            <ControlLabel>Car Name</ControlLabel>\n            <FormControl type=\"text\" name=\"name\" />\n          </FormGroup>\n          <FormGroup>\n            <ControlLabel>Color</ControlLabel>\n            <FormControl type=\"text\" name=\"color\" label=\"Color\" />\n          </FormGroup>\n          <Button bsStyle=\"primary\" onClick={this.handleSubmit}>Add</Button>\n        </form>\n      </Panel>\n    );\n  }\n}\n\nCarAdd.propTypes = {\n  addCar: React.PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/CarAdd.jsx","/* eslint-disable eol-last */\n/**\n * Created by admin on 6/14/17.\n */\nimport React from 'react';\nimport { Panel, InputGroup, FormControl, Button , Table} from 'react-bootstrap';\nimport Inbox from './Inbox.jsx';\nlet io = require('socket.io-client');\nlet socket =  io();\n\nconst MessageContent = (props) => {\n  let messages = props.messages.map((message, i) =>\n    <div key={i}>{message.user} {message.text}</div>);\n  return(\n    <div>{messages}</div>\n  );\n}\n\nMessageContent.propTypes = {\n  messages: React.PropTypes.array.isRequired,\n};\n\nexport default class ChatBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {chatBoxShow: 'tabbed_sidebar ng-scope chat_sidebar', message:{user:'', text:'', server_read: false,\n        idMessage: 0, time: new Date()}, messagesInbox: [],\n        emitAddress: '', onAddress: '', messages: [{user: '', text: ''}], text: ''};\n    this.handleChange = this.handleChange.bind(this);\n    this.sendMessage = this.sendMessage.bind(this);\n    this.loadMessage = this.loadMessage.bind(this);\n  }\n\n  componentDidMount() {\n    console.log('Chat box did mount, socket.on at: ', this.props.onAddress);\n    socket.on(this.props.onAddress, (data) => {\n      console.log('Receive message: ', data.message);\n      this.receiveMessage(data);\n      if(data.message.user ==='Client: '){\n          console.log('Admin da doc tin nhan.');\n          data.message.server_read = true;\n          fetch(`/api/message/update`, {\n              method: 'PUT',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(data.message),\n          });\n\n      }\n    });\n    this.props.onAddress==='receiveClient' && this.loadMessage();\n  }\n\n  componentWillReceiveProps(props) {\n    console.log('Chat box WillReceiveProps.', props);\n    this.setState({emitAddress: props.emitAddress});\n    this.setState({onAddress: props.onAddress});\n    if(props.messages) this.setState({messages: props.messages});\n  }\n\n  loadMessage() {\n    console.log('Load message was call');\n    fetch(`api/message`).then(response =>\n      response.json()\n        ).then(message => {\n            this.setState({ messagesInbox: message });\n            console.log('List Messages Inbox load from database');\n            console.log(this.state.messagesInbox);\n        }).catch(err => {\n            console.log(err);\n        });\n  }\n\n  handleChange(event) {\n    const idMessage = new Date().getTime();\n    const time = new Date();\n    this.setState({text: event.target.value});\n    this.setState({ message: {user: this.props.user, text: event.target.value,\n        server_read: false, idMessage: idMessage, time: time}});\n    console.log('id message la: ', idMessage);\n  }\n\n  sendMessage() {\n    this.setState({text: ''});\n    console.log('Tin nhan gui di', this.state.message);\n    socket.emit(this.state.emitAddress, {\n      message: this.state.message,\n    });\n\n    //Write message to database\n    const newMessage = this.state.message;\n    newMessage.server_read = (newMessage.user==='Admin: ')?true:false;\n    console.log('Write message: ',newMessage);\n      fetch(`/api/message`, {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(newMessage),\n\n      }).catch(err => {\n          console.log('Error adding car:', err);\n      });\n    //Add messsage to messages\n    let addMessage = this.state.messages;\n    addMessage.push(this.state.message);\n    this.setState({messages: addMessage});\n    console.log('Messages sau khi add: ', this.state.messages);\n    this.setState({ message: '' });\n  }\n\n  receiveMessage(data) {\n    this.setState({message: data.message})\n    let addMessage = this.state.messages;\n    addMessage.push(data.message);\n    this.setState({messages: addMessage});\n  }\n\n  render() {\n    return (\n      <div>\n        <Inbox messagesInbox = {this.state.messagesInbox}/>\n        <Panel bsStyle = \"primary\" collapsible defaultExpanded header=\"ChatBox\">\n          <MessageContent messages={this.state.messages}/>\n          <InputGroup>\n              <FormControl type = \"text\" value = {this.state.text}\n                onChange = {this.handleChange} />\n              <InputGroup.Button>\n               <Button onClick={() => { this.sendMessage();}}>Send</Button>\n              </InputGroup.Button>\n          </InputGroup>\n        </Panel>\n      </div>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ChatBox.jsx","/**\n * Created by admin on 6/19/17.\n */\nimport React from 'react';\nimport { Panel, Button , Table} from 'react-bootstrap';\n\nconst InboxRow = (props) => {\n    return (\n      <tr>\n          <td>{props.message.user}</td>\n          <td>{props.message.text}</td>\n          <td>{props.message.time}</td>\n          <td><Button>Reply</Button></td>\n      </tr>\n    );\n}\nInboxRow.propsTypes = {\n    message: React.PropTypes.object.isRequired,\n}\n\nfunction InboxTable(props) {\n    console.log('Inbox Table receive data');\n    console.log(props.messages);\n    let inboxRows = props.messages.map((message, i) =>\n        <InboxRow key = {i} message = {message}/>\n    );\n\n    return (\n        <Panel bsStyle = \"success\" collapsible defaultExpanded header = \"Inbox\">\n                <Table striped bordered condensed hover>\n                    <thead>\n                    <tr>\n                        <th>UserName</th>\n                        <th>Message</th>\n                        <th>Time</th>\n                        <th>Action</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {inboxRows}\n                    </tbody>\n                </Table>\n        </Panel>\n    );\n}\nInboxTable.propsTypes = {\n    messages: React.PropTypes.array.isRequired,\n}\n\nexport default class Inbox extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { messages: []};\n    }\n\n    componentWillReceiveProps(props) {\n        console.log('Inbox will receive props', props);\n        this.setState({messages: props.messagesInbox});\n    }\n\n    render() {\n        return (\n                <div>\n                    <InboxTable messages = {this.state.messages} />\n                </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Inbox.jsx","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-client/lib/index.js","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-client/lib/url.js","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/parseuri/index.js","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (window && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (document && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/debug/src/browser.js","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/debug/src/debug.js","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/ms/index.js","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar hasBin = require('has-binary2');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  if ((obj.type === exports.EVENT || obj.type === exports.ACK) && hasBin(obj.data)) {\n    obj.type = obj.type === exports.EVENT ? exports.BINARY_EVENT : exports.BINARY_ACK;\n  }\n\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    str += JSON.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    p = tryParse(p, str.substr(i));\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(p, str) {\n  try {\n    p.data = JSON.parse(str);\n  } catch(e){\n    return error();\n  }\n  return p; \n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error() {\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-parser/index.js","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/component-emitter/index.js","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n     (withNativeBlob && obj instanceof Blob) ||\n     (withNativeFile && obj instanceof File)\n    ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/has-binary2/index.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/has-binary2/~/isarray/index.js","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-parser/binary.js","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-parser/~/isarray/index.js","\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-parser/is-buffer.js","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-client/lib/manager.js","\nmodule.exports = require('./lib/index');\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/index.js","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/index.js","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0)\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/socket.js","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transports/index.js","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/xmlhttprequest.js","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/has-cors/index.js","/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          var contentType;\n          try {\n            contentType = xhr.getResponseHeader('Content-Type');\n          } catch (e) {}\n          if (contentType === 'application/octet-stream') {\n            xhr.responseType = 'arraybuffer';\n          }\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transports/polling-xhr.js","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transports/polling.js","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transport.js","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (global && global.ArrayBuffer) {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-parser/lib/browser.js","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-parser/lib/keys.js","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/arraybuffer.slice/index.js","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n\n\n// WEBPACK FOOTER //\n// ./~/after/index.js","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint, strict) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tif (strict) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t' is not a scalar value'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint, strict) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t}\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol(strict) {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-parser/lib/utf8.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./~/base64-arraybuffer/lib/base64-arraybuffer.js","/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./~/blob/index.js","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/parseqs/index.js","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/component-inherit/index.js","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n\n\n// WEBPACK FOOTER //\n// ./~/yeast/index.js","\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transports/polling-jsonp.js","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? (protocols ? new WebSocket(uri, protocols) : new WebSocket(uri)) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/engine.io-client/lib/transports/websocket.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 546\n// module chunks = 0","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/indexof/index.js","/**\r\n * JSON parse.\r\n *\r\n * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n * @api private\r\n */\r\n\r\nvar rvalidchars = /^[\\],:{}\\s]*$/;\r\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\nvar rtrimLeft = /^\\s+/;\r\nvar rtrimRight = /\\s+$/;\r\n\r\nmodule.exports = function parsejson(data) {\r\n  if ('string' != typeof data || !data) {\r\n    return null;\r\n  }\r\n\r\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n  // Attempt to parse using the native JSON parser first\r\n  if (global.JSON && JSON.parse) {\r\n    return JSON.parse(data);\r\n  }\r\n\r\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n      .replace(rvalidtokens, ']')\r\n      .replace(rvalidbraces, ''))) {\r\n    return (new Function('return ' + data))();\r\n  }\r\n};\n\n\n// WEBPACK FOOTER //\n// ./~/parsejson/index.js","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = { type: parser.EVENT, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  if (packet.nsp !== this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-client/lib/socket.js","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/to-array/index.js","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/socket.io-client/lib/on.js","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/component-bind/index.js","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./~/backo2/index.js","import React from 'react';\nimport update from 'react-addons-update';\nimport { Link } from 'react-router';\n\nimport { Panel, FormGroup, FormControl, ControlLabel, Button, ButtonToolbar, Alert }\n  from 'react-bootstrap';\n\nexport default class CarEdit extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.submit = this.submit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.dismissAlert = this.dismissAlert.bind(this);\n\n    this.state = { successVisible: false, car: {} };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log('CarEdit: componentDidUpdate', prevProps.params.id, this.props.params.id);\n    if (this.props.params.id !== prevProps.params.id) {\n      this.loadData();\n    }\n  }\n\n  onChange(e) {\n    const changes = {};\n    changes[e.target.name] = { $set: e.target.value };\n    const modifiedCar = update(this.state.car, changes);\n    this.setState({ car: modifiedCar });\n  }\n\n  loadData() {\n    fetch(`/api/cars/${this.props.params.id}`).then(response => response.json()).then(car => {\n      this.setState({ car });    // all the attributes of the car are top level state items\n    });\n  }\n\n  submit(e) {\n    e.preventDefault();\n    fetch(`/api/cars/${this.props.params.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(this.state.car),\n\n    }).then(response => response.json()).then(car => {\n      this.setState({ car });\n      this.setState({ successVisible: true });\n      this.dismissTimer = setTimeout(this.dismissAlert, 5000);\n    });\n  }\n\n  dismissAlert() {\n    this.setState({ successVisible: false });\n  }\n\n  render() {\n    const success = (\n      <Alert bsStyle=\"success\" onDismiss={this.dismissAlert} >\n        Car saved to DB successfully.\n      </Alert>\n    );\n    const car = this.state.car;\n    return (\n      <div style={{ maxWidth: 600 }}>\n        <Panel header={`Edit car: ${this.props.params.id}`}>\n          <form onSubmit={this.submit}>\n            <FormGroup>\n              <ControlLabel>Priority</ControlLabel>\n              <FormControl componentClass=\"select\" name=\"priority\" value={car.priority}\n                onChange={this.onChange}>\n                <option value=\"P1\">P1</option>\n                <option value=\"P2\">P2</option>\n                <option value=\"P3\">P3</option>\n              </FormControl>\n            </FormGroup>\n            <FormGroup>\n              <ControlLabel>Status</ControlLabel>\n              <FormControl componentClass=\"select\" name=\"status\" value={car.status}\n                onChange={this.onChange}>\n                <option>Stocking</option>\n                <option>Out of Stock</option>\n              </FormControl>\n            </FormGroup>\n            <FormGroup>\n              <ControlLabel>Name</ControlLabel>\n              <FormControl type=\"text\" name=\"name\" value={car.name} onChange={this.onChange} />\n            </FormGroup>\n            <FormGroup>\n              <ControlLabel>Color</ControlLabel>\n              <FormControl type=\"text\" name=\"color\" value={car.color}\n                onChange={this.onChange} />\n            </FormGroup>\n            <ButtonToolbar>\n              <Button type=\"submit\" bsStyle=\"primary\">Submit</Button>\n              <Link className=\"btn btn-link\" to=\"/cars\">Back</Link>\n            </ButtonToolbar>\n          </form>\n        </Panel>\n        {this.state.successVisible ? success : null}\n      </div>\n    );\n  }\n}\n\nCarEdit.propTypes = {\n  params: React.PropTypes.object.isRequired,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/CarEdit.jsx","/**\n * Created by admin on 6/12/17.\n */\nimport React from 'react';\nimport './ClientSide.css';\nimport ListCars from './CarListClientSide.jsx';\nimport ChatBox from './ChatBox.jsx';\n\nexport default class ClientSide extends React.Component {\n  static get propTypes() {\n    return { location: React.PropTypes.object.isRequired };\n  }\n\n  constructor() {\n    super();\n    this.state = { cars: [], emitAddress: 'toServer', onAddress: 'receiveServer' };\n  }\n\n  componentDidMount() {\n    console.log('CarList: componentDidMount');\n    this.loadData();\n  }\n\n  loadData(){\n    console.log('LoadData was call: ');\n    console.log(this.props.location);\n    fetch(`/api/cars/${this.props.location.search}`).then(response =>\n        response.json()\n    ).then(cars => {\n      this.setState({ cars });\n      console.log(cars);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    console.log('Rendering Client side.');\n    return (\n      <div>\n        <ListCars cars = {this.state.cars} />\n        <ChatBox emitAddress = {this.state.emitAddress} onAddress = {this.state.onAddress}\n                 user = 'Client: '/>\n      </div>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ClientSide.jsx","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[path]___[name]__[local]___[hash:base64:5]!./ClientSide.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"sourceMap\":true}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[path]___[name]__[local]___[hash:base64:5]!./ClientSide.css\", function() {\n\t\t\tvar newContent = require(\"!!../node_modules/css-loader/index.js?modules&importLoaders=1&localIdentName=[path]___[name]__[local]___[hash:base64:5]!./ClientSide.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/ClientSide.css\n// module id = 556\n// module chunks = 0","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".src-___ClientSide__glyphicon___NULP7 { margin-right:5px; }\\n.src-___ClientSide__thumbnail___3wDY-\\n{\\n    margin-bottom: 20px;\\n    padding: 0px;\\n    -webkit-border-radius: 0px;\\n    -moz-border-radius: 0px;\\n    border-radius: 0px;\\n}\\n\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD\\n{\\n    float: none;\\n    width: 100%;\\n    background-color: #fff;\\n    margin-bottom: 10px;\\n}\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:nth-of-type(odd):hover,.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:hover\\n{\\n    background: #428bca;\\n}\\n\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD .src-___ClientSide__list-group-image___xgPcf\\n{\\n    margin-right: 10px;\\n}\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD .src-___ClientSide__thumbnail___3wDY-\\n{\\n    margin-bottom: 0px;\\n}\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD .src-___ClientSide__caption___2FR4J\\n{\\n    padding: 9px 9px 0px 9px;\\n}\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:nth-of-type(odd)\\n{\\n    background: #eeeeee;\\n}\\n\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:before, .src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:after\\n{\\n    display: table;\\n    content: \\\" \\\";\\n}\\n\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD img\\n{\\n    float: left;\\n}\\n.src-___ClientSide__item___39Z9F.src-___ClientSide__list-group-item___3CcZD:after\\n{\\n    clear: both;\\n}\\n.src-___ClientSide__list-group-item-text___3LWNh\\n{\\n    margin: 0 0 11px;\\n}\\n\\n.src-___ClientSide__grid-group-item___1K2NU\\n{\\n    float: left;\\n}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"glyphicon\": \"src-___ClientSide__glyphicon___NULP7\",\n\t\"thumbnail\": \"src-___ClientSide__thumbnail___3wDY-\",\n\t\"item\": \"src-___ClientSide__item___39Z9F\",\n\t\"list-group-item\": \"src-___ClientSide__list-group-item___3CcZD\",\n\t\"list-group-image\": \"src-___ClientSide__list-group-image___xgPcf\",\n\t\"caption\": \"src-___ClientSide__caption___2FR4J\",\n\t\"list-group-item-text\": \"src-___ClientSide__list-group-item-text___3LWNh\",\n\t\"grid-group-item\": \"src-___ClientSide__grid-group-item___1K2NU\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?modules&importLoaders=1&localIdentName=[path]___[name]__[local]___[hash:base64:5]!./src/ClientSide.css\n// module id = 557\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/css-loader/lib/css-base.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(selector) {\n\t\tif (typeof memo[selector] === \"undefined\") {\n\t\t\tmemo[selector] = fn.call(this, selector);\n\t\t}\n\n\t\treturn memo[selector]\n\t};\n})(function (target) {\n\treturn document.querySelector(target)\n});\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton) options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n\tif (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else {\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader/lib/addStyles.js\n// module id = 559\n// module chunks = 0","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/style-loader/lib/urls.js","/**\n * Created by admin on 6/13/17.\n */\nimport React from 'react';\nimport './ClientSide.css';\n\nconst Car = (props) => {\n  console.log('Layout cua item', props.layOut);\n  return (\n            <div className={props.layOut}>\n                <div className=\"thumbnail\">\n                    <img className=\"group list-group-image\" src=\"http://placehold.it/400x250/000/fff\" alt=\"\" />\n                    <div className=\"caption\">\n                        <h4 className=\"group inner list-group-item-heading\">\n                            Car Name</h4>\n                        <p className=\"group inner list-group-item-text\">\n                            {props.car.name}</p>\n                        <div className=\"row\">\n                            <div className=\"col-xs-12 col-md-6\">\n                                <p className=\"lead\">\n                                    $21.000</p>\n                            </div>\n                            <div className=\"col-xs-12 col-md-6\">\n                                <a className=\"btn btn-success\" href=\"http://www.bravebits.co/vi/\">Add to cart</a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n    );\n}\n\nCar.propTypes = {\n  car: React.PropTypes.object.isRequired,\n  layOut: React.PropTypes.string.isRequired,\n}\n\nexport default class CarListClientSide extends React.Component {\n  static get propTypes() {\n    return {\n      cars: React.PropTypes.array.isRequired,\n    };\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = { layOut: 'item col-xs-4 col-lg-4 grid-group-item' };\n    this.grid = 'grid';\n    this.list = 'list';\n    this.changeLayout = this.changeLayout.bind(this);\n  }\n\n  componentWillReceiveProps(newProps) {\n    console.log('New Props, ', newProps);\n  }\n  changeLayout(layout) {\n    console.log('abs', layout);\n    const layoutState = (layout === 'grid') ? 'item col-xs-4 col-lg-4 grid-group-item'\n            : 'item col-xs-4 col-lg-4 list-group-item';\n    this.setState({ layOut: layoutState });\n    console.log('changeLayout clicked: ', this.state.layOut);\n  }\n\n  render() {\n    console.log('Layout sau khi click: ', this.state.layOut);\n    let cars = this.props.cars.map((car, i) =>\n          <Car key={i} car={car} layOut={this.state.layOut} />);\n    console.log('Day la danh sach cars lay duoc tu server: ', this.props.cars);\n    return (\n          <div className=\"container\">\n              <div className=\"well well-sm\">\n                  <strong>Category Title</strong>\n                  <div className=\"btn-group\">\n                      <button id={this.list} className=\"btn btn-default btn-sm\"\n                        onClick={() => this.changeLayout(this.list)}>\n                        <span className=\"glyphicon glyphicon-th-list\">\n                        </span>\n                        List\n                      </button>\n                      <button id={this.grid} className=\"btn btn-default btn-sm\"\n                        onClick={() => this.changeLayout(this.grid)}>\n                        <span className=\"glyphicon glyphicon-th\"></span>\n                        Grid\n                      </button>\n                  </div>\n              </div>\n              <div id=\"products\" className=\"row list-group\">\n                  {cars}\n              </div>\n          </div>\n      );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/CarListClientSide.jsx"],"sourceRoot":""}